---
title: 'Настройка телефонов SCCP (Cisco) Asterisk'
date: 2024-12-25T09:55:51+05:00
author: 'Dmitriy Q'
draft: false
tags: [sccp, cisco, asterisk]
---

В настройках **FreePBX** → **Extensions** → **Add Estension** → **Другое устройство** → **Сохранить**
**Внутренний номер пользователя** — номер, который нам требуется создать, у нас **2134**
**Отображаемое имя** — имя, например «***** Anna».
**Псевдоним номера ИД** — не трогаем
**Псевдоним SIP** → номер что мы вводили во внутреннем номере - **2134**
Прокручиваем страничку ниже
**Устройство использует custom технологию**
**dial** → `SCCP/2134`
**Сохранить (Submit)**.

![image1](_resources/sccp_1.png)

Далее перемещаемся в консоль и будем исправлять файлы `sccp_extensions.conf` и `sccp_hardware.conf` в папке `/etc/asterisk/`
Добавляем в `sccp_extensions.conf`

![image2](_resources/sccp_2.png)

```
[2134](defaultline)
id = 2134
label = 2134
description= *** Anna
cid_name= *** Anna
mailbox = 2134
cid_num = 2134
trnsfvm = 2134
```
Теперь лучше зайти на сам аппарат.

![image3](_resources/sccp_3.png)

Отсюда нам надо взять модель аппарата — **7905** и **Host Name**.
Host Name – это по сути MAC-адрес с добавлением вначале *SEP*.

Правим *sccp_hardware.conf*
```
[SEP00179A4094B](defaultdevice)
devicetype = 7905
description = *** Anna
button = line, 2134
```

![image4](_resources/sccp_4.png)

**Обязательно нужно убедиться что больше это Host Name больше нигде не используется!**

Примечание: Вы видите на скриншоте «**Phone DN: 127**» - это след от старого номера, который указывает что данный номер может присутствовать в `sccp_hardware.conf`.

Конечно сохраняем примененные нами изменения в обоих конфигах.

Перезагружаем модуль SCCP чтобы он перечитал конфиги:

`~$ sudo asterisk -rx 'sccp reload'`

и можно увидеть добавленного пользователя

`~ $ sudo asterisk -rx 'sccp show devices'`

![image5](_resources/sccp_5.png)

*Небольшое примечание: нежелательно оставлять поля в кофигах пустыми — это касается полей «description» и «cid_name» лучше заполнить группой из 8 точек.*

*Примечание2: возможно заработает только после перезагрузки Астериска при капризности перезагрузки модуля или конфига sccp.*